<mat-card class="form-card">
  <mat-card-header>
    <mat-card-title style="color: white;">Registro Diário</mat-card-title>
  </mat-card-header>

  <form [formGroup]="registroForm" (ngSubmit)="salvar()" class="registro-grid">
    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Data do Registro</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="dataRegistro" />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Horas de Sono</mat-label>
      <mat-select formControlName="horasSono">
        @for (hora of horasSono; track hora) {
        <mat-option [value]="hora">{{ hora }} Horas</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Café da Manhã</mat-label>
      <mat-select formControlName="cafeManha" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('cafeManha', cafeManha)"
            (change)="toggleAll('cafeManha', cafeManha, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of cafeManha; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <!-- <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Almoço</mat-label>
      <mat-select formControlName="almoco">
        @for (cafe of Almoco; track cafe) {
        <mat-option [value]="cafe">{{ cafe }}</mat-option>
        }
      </mat-select>
    </mat-form-field> -->

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Almoço</mat-label>
      <mat-select formControlName="almoco" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('almoco', almoco)"
            (change)="toggleAll('almoco', almoco, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of almoco; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Lanche</mat-label>
       <mat-select formControlName="lanche" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('lanche', lanche)"
            (change)="toggleAll('lanche', lanche, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of lanche; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Janta</mat-label>
       <mat-select formControlName="janta" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('janta', janta)"
            (change)="toggleAll('janta', janta, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of janta; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Saúde</mat-label>
      <mat-select formControlName="saude" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('saude', saude)"
            (change)="toggleAll('saude', saude, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of saude; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Atividade Fisica</mat-label>
      <mat-select formControlName="atividadefisica" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('atividadefisica', atividadefisica)"
            (change)="toggleAll('atividadefisica', atividadefisica, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of atividadefisica; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Horas de Estudo</mat-label>
      <mat-select formControlName="estudoHoras">
        @for (cafe of estudoHoras; track cafe) {
        <mat-option [value]="cafe">{{ cafe }} Horas</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Jogos</mat-label>
     <mat-select formControlName="jogos" multiple>
        <div class="select-all-container">
          <mat-checkbox
            color="primary"
            [checked]="isAllSelected('jogos', jogos)"
            (change)="toggleAll('jogos', jogos, $event.checked)"
          >
            Selecionar Todos
          </mat-checkbox>
        </div>
        <mat-divider></mat-divider>
        @for (item of jogos; track item) {
        <mat-option [value]="item">{{ item }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="primary">
      <mat-label>Distracao</mat-label>
      <mat-select formControlName="distracao">
        @for (cafe of distracao; track cafe) {
        <mat-option [value]="cafe">{{ cafe }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" color="accent">
      <mat-label>Gastos Totais (R$)</mat-label>
      <input matInput type="number" formControlName="gastosTotal" />
      <span matTextPrefix>R$&nbsp;</span>
    </mat-form-field>

    <mat-form-field class="space" appearance="outline" class="full-width">
      <mat-label>Observações</mat-label>
      <textarea matInput rows="3" formControlName="observacoes"></textarea>
    </mat-form-field>

    <div class="actions">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="registroForm.invalid"
      >
        <mat-icon>save</mat-icon> Salvar Registro
      </button>
    </div>
  </form>
</mat-card>
